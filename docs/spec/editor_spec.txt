*** Test Cases ***

Initiate an empty caption
    Given a video is loaded in the player
    When no captions are loaded in the editor from any sources
    Then enable "Add First Caption" button
    And clicking on it will create on caption segment of timestmap from 0:00 to 0:05

Edit timestamps of a segment
    Given a caption segement in the editor
    When clicking on the starting or ending timestamp of the segment
    Then the user can edit the timestamp

Warn overlapped segments
    Given two adjacent caption segments in the editor
    When the end timestamp of the first segment is larger than the start timestamp of the second segment
    Then put visual warning on those timestamps

Add a segment
    Given a caption segment
    When the user hovers over it
    Then show two "Add Segment" buttons overlayed on the top and the bottom that will add an empty segment before or after

Disable Add Segment button before a segment
    Given the user hovering over a caption segment X
    When 1. there is a segment Y before X, and Y's end timestamp equals to X's start timestamp. Or 2. X is the first segment and X's start timestamp is 0
    Then disable the top Add Segment button

Disable Add Segment button after a segment
    Given the user hovering over a caption segment X
    When there is a segment Y after X, and Y's start timestamp equals to X's end timestamp
    Then disable the bottom Add Segment button

Set timestamps when adding a segment before the first segment
    Given the first caption segment X
    When the user add a segment Y before X
    Then the Y's end timestamp is X's start timestamp, and the Y's start timestamp is 0:00.00 when its duration would be less or equal than 5 seconds, or X's start timestamp - 5 seconds if otherwise

Set timestamps when adding a segment before a non-first segment
    Given a caption segment X, which is after the segment Z
    When the user add a segment Y between Z and X
    Then the Y's end timestamp is X's start timestamp, and the Y's start timestamp is Z's end timestamp when Y's duration would be less or equal than 5 seconds, or is Y's start timestamp - 5 seconds if otherwise

Set timestamps when adding a segment after the last segment
    Given the last caption segment X
    When the user add a segment Y after X
    Then the Y's start timestamp is X's end timestamp, and the Y's end timestamp is Y's timestamp + 5 seconds

Set timestamps when adding a segment after a non-last segment
    Given a caption segment X, which is fore the segment Z
    When the user add a segment Y between X and Z
    Then the Y's start timestamp is X's end timestamp, and the Y's end timestamp is Z's start timestamp when Y's duration would be less or equal than 5 seconds, or is Y's start timestamp + 5 seconds if otherwise

Merge two segments into one
    Given two adjacent caption segments X and Y, X before Y
    When the user hovers either of X or Y
    Then show a "(up down arrow) Merge" button overlayed between X and Y that will merge them into one segment, resulting start timestamp being X's start, and end timestamp being Y's end, and the text are joined separated by a whitespace

No collisions between segment hovering buttons
    Given a caption segment
    When the user hovers over it
    Then if both "add" and "merge" button are displayed, they display side by side without overlapping